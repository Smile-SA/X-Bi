(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-850c053c"],{"05b1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("title-box",{attrs:{that:this,icon:t.$route.meta.icon,description:t.$route.meta.description}}),void 0!=t.select.models&&Object.keys(t.select.models).length>0?e("div",{class:t.hover?"col-sm-9":"col-sm-11-5",attrs:{id:"input-box"}},[e("div",{staticClass:"row"},t._l(t.select.models,(function(s,a){return!0===("dynamic"===s.type||("date"===s.type?t.showDatePicker():"group"===s.type&&t.showGroup()))?e("select-option",{staticClass:"col-sm-4 m-b",attrs:{type:s.type,label:s.title,replace:void 0,by:void 0,id:s.id,selectId:s.query_key,defaultData:"dynamic"===s.type?"":"date"===s.type?t.date:s.default_data,placeholder:s.placeholder,selectFunction:"date"===s.type?t.setDate:"group"===s.type?t.setGroup:"dynamic"===s.type?t.setDynamicDataSelect:"",selectData:"date"===s.type?t.date:"group"===s.type?t.groupOptions:"dynamic"===s.type?t.dynamicData:""}}):t._e()})),1)]):t._e(),void 0!=t.structure.card.models&&Object.keys(t.structure.card.models).length>0?e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},t._l(t.structure.card.models,(function(s){return e("div",{class:"1/4"===s.space?"col-sm-3 m-b":"2/4"===s.space?"col-sm-6 m-b":"3/4"===s.space?"col-sm-9 m-b":"4/4"===s.space?"col-sm-12 m-b":"col-sm-4 m-b"},[e("Card",{attrs:{configuration:s,queryData:t.queryData,additionalUrl:t.additionalUrl,styles:t.structure.card.styles,group:t.group}})],1)})),0)]):t._e(),void 0!=t.structure.chart.models&&Object.keys(t.structure.chart.models).length>0?e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},t._l(t.structure.chart.models,(function(s){return e("div",{class:"1/2"===s.space?"col-md-6 col-sm-12 m-b":"col-sm-12 m-b"},[e("apex-charts",{attrs:{configuration:s,queryData:t.queryData,additionalUrl:t.additionalUrl,styles:t.structure.chart.styles,group:t.group}})],1)})),0)]):t._e()],1)},i=[],l=s("73b5"),r=s("492c"),o={data(){return{group:"hour",groupOptions:["hour","day","month","year"],queryData:{},dynamicDataSelectId:"",queryLink:"",additionalUrl:"",to:null,from:null,date:null,active:null,hover:!0,apiInfo:void 0,dynamicData:[],select:{models:{},styles:{}},structure:{card:{models:{},styles:{}},chart:{models:{},styles:{}}}}},methods:{showDatePicker(){return null!==this.active},showGroup(){return null!==this.date&&null!==this.active},async setDynamicDataSelect(t,e){this.active=t.target.value,"ro"===this.apiInfo.mode?this.additionalUrl=e+"/"+this.active:(this.additionalUrl="",this.queryData[e]=this.active),"static"===this.apiInfo.dataType&&(this.additionalUrl="/X-Bi/mockData/"+this.additionalUrl),this.setDate(this.date)},async setDate(t){t&&(this.date=t,await this.setModelsData(),await l["refreshDate"](this.date,this))},async setGroup(t){this.group=t.target.value,this.setDate(this.date)},setModelsData(){this.structure.card={models:{},styles:{}},this.structure.chart={models:{},styles:{}}},getStructureModelsData(){let t=l["getSelectModels"](this.$route.name);null!=t.data&&!0!==t.data.errors?t.data.total>0&&(this.select.models=t.data.results):(this.select.models={},this.select.styles={})},todayFunction(){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,0,0),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()+0,23,59);return{start:e,end:s}},setDefaultDate(t,e,s){var a,i=new Date,l=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()));return t>0&&(a=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()-t))),e>0&&(a=new Date(Date.UTC(i.getFullYear(),i.getMonth()-e,i.getDate()))),s>0&&(a=new Date(Date.UTC(i.getFullYear()-s,i.getMonth(),i.getDate()))),{start:a,end:l}},async getDynamicSelectData(){this.active=null;let t=!1;this.select={},await this.getStructureModelsData(),void 0!=this.select.models&&Object.keys(this.select.models).length>0&&await Object.keys(this.select.models).map(e=>{"dynamic"===this.select.models[e].type&&(t=!0,this.queryLink=this.select.models[e].query,r["getJsonData"](this.select.models[e]).then(t=>{t.total>0?this.dynamicData=t.results:this.dynamicData=[]}))}),t||(this.active=!0)}},beforeMount(){this.date=this.to=this.from=this.active=null,this.queryData={},this.dynamicData=[],this.hover=!0,this.dynamicDataSelectId=this.queryLink=this.additionalUrl="",this.select={models:{},styles:{}},this.structure={card:{models:{},styles:{}},chart:{models:{},styles:{}}},this.apiInfo=l["getApiInfo"](),this.setModelsData(),this.getDynamicSelectData(),r["titleBoxRender"](this),"Overall"===this.$route.name&&(this.active="",this.date=this.todayFunction(),this.setDate(this.date))},watch:{$route(){this.date=this.to=this.from=this.active=null,this.queryData={},this.dynamicData=[],this.hover=!0,this.dynamicDataSelectId=this.queryLink=this.additionalUrl="",this.select={models:{},styles:{}},this.structure={card:{models:{},styles:{}},chart:{models:{},styles:{}}},this.apiInfo=l["getApiInfo"](),r["titleBoxRender"](this),this.getDynamicSelectData(),this.setModelsData(),"Overall"===this.$route.name&&(this.active="",this.date=this.todayFunction(),this.setDate(this.date))}}},c=o,d=(s("17d0"),s("2877")),n=Object(d["a"])(c,a,i,!1,null,"483ce321",null);e["default"]=n.exports},"17d0":function(t,e,s){"use strict";s("9404")},9404:function(t,e,s){}}]);
//# sourceMappingURL=chunk-850c053c.11829fe7.js.map