(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-902f86a4"],{"05b1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("title-box",{attrs:{that:this,icon:t.$route.meta.icon,description:t.$route.meta.description}}),void 0!=t.select.models&&Object.keys(t.select.models).length>0?a("div",{class:t.hover?"col-sm-9":"col-sm-11-5",attrs:{id:"input-box"}},[a("div",{staticClass:"row"},t._l(t.select.models,(function(e,s){return!0===("dynamic"===e.type||("date"===e.type?t.showDatePicker():"group"===e.type&&t.showGroup()))?a("select-option",{staticClass:"col-sm-4 m-b",attrs:{type:e.type,label:e.title,replace:void 0,by:void 0,id:e.id,selectId:e.query_key,defaultData:"dynamic"===e.type?"":"date"===e.type?t.date:e.default_data,placeholder:e.placeholder,selectFunction:"date"===e.type?t.setDate:"group"===e.type?t.setGroup:"dynamic"===e.type?t.setDynamicDataSelect:"",selectData:"date"===e.type?t.date:"group"===e.type?t.groupOptions:"dynamic"===e.type?t.dynamicData:""}}):t._e()})),1)]):t._e(),void 0!=t.structure.card.models&&Object.keys(t.structure.card.models).length>0?a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},t._l(t.structure.card.models,(function(e){return a("div",{class:"1/4"===e.space?"col-sm-3 m-b":"2/4"===e.space?"col-sm-6 m-b":"3/4"===e.space?"col-sm-9 m-b":"4/4"===e.space?"col-sm-12 m-b":"col-sm-4 m-b"},[a("Card",{attrs:{configuration:e,queryData:t.queryData,additionalUrl:t.additionalUrl,styles:t.structure.card.styles,group:t.group}})],1)})),0)]):t._e(),void 0!=t.structure.chart.models&&Object.keys(t.structure.chart.models).length>0?a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},t._l(t.structure.chart.models,(function(e){return a("div",{class:"1/2"===e.space?"col-md-6 col-sm-12 m-b":"col-sm-12 m-b"},[a("apex-charts",{attrs:{configuration:e,queryData:t.queryData,additionalUrl:t.additionalUrl,styles:t.structure.chart.styles,group:t.group}})],1)})),0)]):t._e()],1)},i=[],l=a("73b5"),r=a("492c"),o={data(){return{group:"hour",groupOptions:["hour","day","month","year"],queryData:{},dynamicDataSelectId:"",queryLink:"",additionalUrl:"",to:null,from:null,date:null,active:null,hover:!0,apiInfo:void 0,dynamicData:[],select:{models:{},styles:{}},structure:{card:{models:{},styles:{}},chart:{models:{},styles:{}}}}},methods:{showDatePicker(){return null!==this.active},showGroup(){return null!==this.date&&null!==this.active},async setDynamicDataSelect(t,e){this.active=t.target.value,"ro"===this.apiInfo.mode?this.additionalUrl=e+"/"+this.active:(this.additionalUrl="",this.queryData[e]=this.active),"static"===this.apiInfo.dataType&&(this.additionalUrl="/X-Bi/mockData/"+this.additionalUrl),this.setDate(this.date)},async setDate(t){t&&(this.date=t,await this.setModelsData(),await l["refreshDate"](this.date,this))},async setGroup(t){this.group=t.target.value,this.setDate(this.date)},setModelsData(){this.structure.card={models:{},styles:{}},this.structure.chart={models:{},styles:{}}},getStructureModelsData(){let t=l["getSelectModels"](this.$route.name);null!=t.data&&!0!==t.data.errors?t.data.total>0&&(this.select.models=t.data.results):(this.select.models={},this.select.styles={})},todayFunction(){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,0,0),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()+0,23,59);return{start:e,end:a}},setDefaultDate(t,e,a){var s,i=new Date,l=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()));return t>0&&(s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()-t))),e>0&&(s=new Date(Date.UTC(i.getFullYear(),i.getMonth()-e,i.getDate()))),a>0&&(s=new Date(Date.UTC(i.getFullYear()-a,i.getMonth(),i.getDate()))),{start:s,end:l}},async getDynamicSelectData(){this.active=null;let t=!1;this.select={},await this.getStructureModelsData(),void 0!=this.select.models&&Object.keys(this.select.models).length>0&&await Object.keys(this.select.models).map(e=>{"dynamic"===this.select.models[e].type&&(t=!0,this.queryLink=this.select.models[e].query,r["getJsonData"](this.select.models[e]).then(t=>{t.total>0?this.dynamicData=t.results:this.dynamicData=[]}))}),t||(this.active=!0)}},beforeMount(){this.date=this.to=this.from=this.active=null,this.queryData={},this.dynamicData=[],this.hover=!0,this.dynamicDataSelectId=this.queryLink=this.additionalUrl="",this.select={models:{},styles:{}},this.structure={card:{models:{},styles:{}},chart:{models:{},styles:{}}},this.apiInfo=l["getApiInfo"](),this.setModelsData(),this.getDynamicSelectData(),r["titleBoxRender"](this),"Overall"===this.$route.name&&(this.active="",this.date=this.todayFunction(),this.setDate(this.date))},watch:{$route(){this.date=this.to=this.from=this.active=null,this.queryData={},this.dynamicData=[],this.hover=!0,this.dynamicDataSelectId=this.queryLink=this.additionalUrl="",this.select={models:{},styles:{}},this.structure={card:{models:{},styles:{}},chart:{models:{},styles:{}}},this.apiInfo=l["getApiInfo"](),r["titleBoxRender"](this),this.getDynamicSelectData(),this.setModelsData(),"Overall"===this.$route.name&&(this.active="",this.date=this.todayFunction(),this.setDate(this.date))}}},c=o,d=(a("f954"),a("2877")),n=Object(d["a"])(c,s,i,!1,null,"483ce321",null);e["default"]=n.exports},ec7d:function(t,e,a){},f954:function(t,e,a){"use strict";a("ec7d")}}]);
//# sourceMappingURL=chunk-902f86a4.cc15fdd6.js.map