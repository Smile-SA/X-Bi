(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22db66"],{f952:function(t,e,i){"use strict";i.r(e);var a=i("492c"),s=i("1321"),o=i.n(s);e["default"]={name:"Card",components:{apexcharts:o.a},props:["configuration","queryData","styles","additionalUrl","group"],data(){return{timer:"",value:"-",sparkLine:{},lstm:{}}},methods:{async getData(){let t=parseFloat(this.configuration.value).toFixed(2)>0?this.configuration.value:0;switch(this.configuration.type){case"default":case"multi-icon":this.lstm={},await a["getJsonData"](this.configuration,this.additionalUrl,this.queryData).then(e=>{if(e.total>0){switch(this.configuration.method){case"avg":this.configuration.value=e.results.length>0?(e.results.map(t=>t[this.configuration.query_key]).reduce((t,e)=>t+e)/e.results.length).toFixed(2):t;break;case"count":this.configuration.value=e.results.length;break;case"lstm":this.configuration.value=e.results[this.configuration.query_key].toFixed(2),this.configuration.icon="fa-arrow-"+e.results.trend.toLowerCase(),this.lstm=e.results;break;case"sum":this.configuration.value=e.results.length<=1?parseFloat(e.results[0][this.configuration.query_key]):e.results.length>1?e.results.map(t=>parseFloat(t[this.configuration.query_key])).reduce((t,e)=>t+e,0).toFixed(0):t;break}this.$forceUpdate()}else this.configuration.value=t,this.$forceUpdate()});break;case"chart":this.sparkLine.height=void 0,await a["getDataByVariableAndDateToApex"](this.configuration,this.additionalUrl,this.queryData,this.group,this.styles).then(async t=>{t.total>0&&(this.sparkLine=t,this.sparkLine.options.chart.type="line")}),await a["getJsonData"](this.configuration,this.additionalUrl,this.queryData).then(e=>{if(e.total>0){switch(this.configuration.method){case"avg":this.configuration.value=e.results.length>0?(e.results.map(t=>t[this.configuration.query_key]).reduce((t,e)=>t+e)/e.results.length).toFixed(2):t;break;case"count":this.configuration.value=e.total;break;case"lstm":this.configuration.value=e.results[this.configuration.query_key].toFixed(2),this.configuration.icon="fa-arrow-"+e.results.trend.toLowerCase(),this.lstm=e.results;break;case"sum":this.configuration.value=e.results.length<1?e.results[0][this.configuration.query_key].toFixed(2):e.results.length>1?e.results[0].map(t=>t[this.configuration.query_key]).reduce((t,e)=>t+e,0).toFixed(2):t;break}this.$forceUpdate()}else this.configuration.value=t,this.$forceUpdate()});break}this.configuration.value=this.configuration.value.toString()}},beforeMount(){this.getData(this.configuration.method)}}}}]);
//# sourceMappingURL=chunk-2d22db66.5978f4c5.js.map