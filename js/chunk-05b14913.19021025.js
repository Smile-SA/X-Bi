(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05b14913","chunk-dc126378","chunk-f3b84cae","chunk-5929c326","chunk-bbfefe56","chunk-ac8d65fa","chunk-3f1e3f9c"],{"04bf":function(t,e,s){"use strict";s("68ff")},"085b":function(t,e,s){"use strict";s.r(e);var a=s("73b5"),o=s("5d83"),r=s("91df"),i=s("492c"),n=s("3578");e["default"]={name:"structure",components:{addForm:n["default"]},props:["id"],data(){return{viewId:this.$route.params.id,hover:!0,structure:{},tableData:{}}},methods:{async bindModelsData(){this.tableData={},Object.keys(this.structure).length>0&&await Object.keys(this.structure).map(t=>{this.tableData[t]={data:this.structure[t].models,showDownloadButton:!1,columns:[]};let e=a["getForm"](t);Object.keys(e).map(s=>{"icon"===e[s].name?this.tableData[t].columns.push({key:e[s].name,component:r["default"]}):"value"!=e[s].name&&this.tableData[t].columns.push({key:e[s].name})}),this.tableData[t].columns.push({key:"actions",component:o["default"]})})},async getStructure(){this.structure={};let t=a["getStructure"](this.viewId),e=[];Object.keys(t).length>0&&(await Object.keys(t).map(s=>{e[s]=[],e[s].models=[],Object.keys(t[s].models).map(a=>{e[s].models[a]={},e[s].models[a].isDeleted=!0,e[s].models[a].isUpdated=!0,e[s].models[a].modelId=a,e[s].models[a].value="0",e[s].models[a].viewId=this.viewId,e[s].models[a].structureType=s,e[s].models[a].refreshFunction=this.getStructure,Object.keys(t[s].models[a]).map(o=>{e[s].models[a][o]=t[s].models[a][o]}),e[s].models[a].isPreviewed="select"!==s})}),this.structure=e),this.bindModelsData()}},async beforeMount(){this.getStructure(),i["titleBoxRender"](this)}}},"145f":function(t,e,s){"use strict";s("548d")},"26b8":function(t,e,s){"use strict";s("8a0a")},"337e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"normal-case tracking-normal"},[s("a",{staticClass:"btn btn-sm btn-outline-behance text-capitalize",on:{click:function(e){return e.preventDefault(),t.show.apply(null,arguments)}}},[s("font-awesome-icon",{staticClass:"me-1",attrs:{icon:["fas","fa-eye"]}}),t._v(" preview")],1),s("modal",{staticClass:"white-space-initial",attrs:{name:"preview-modal-"+t.structureType+t.modelId,height:"auto",resizable:!0,width:"25%"}},[s("div",{staticClass:"modal-body"},[t._t("body",(function(){return["card"===t.structureType?s("Card",{directives:[{name:"show",rawName:"v-show",value:t.shows.card,expression:"shows.card"}],attrs:{configuration:t.model,queryBegin:"queryBegin",from:"from",to:"to",styles:"structure.card.styles"}}):t._e(),!0===t.shows.chart?s("apexcharts",{ref:"chart-"+t.structureType+t.modelId,attrs:{options:t.options,series:t.options.series,height:t.options.chart.height}}):t._e()]}))],2)])],1)},o=[],r=s("73b5"),i=s("7491"),n=s("1321"),l=s.n(n),d={name:"preview",components:{apexcharts:l.a},props:["modelId","structureType","refreshFunction","viewId"],data(){return{model:{},options:{},shows:{chart:!1,card:!1}}},computed:{},beforeMount(){},methods:{async show(){await this.getModel(),await this.$modal.show("preview-modal-"+this.structureType+this.modelId),"chart"===this.structureType?this.drawChart():this.shows.card=!0},hide(){this.$modal.hide("preview-modal-"+this.structureType+this.modelId)},getModel(){let t=r["getModel"](this.structureType,this.viewId,this.modelId);Object.keys(t).length>0&&(this.model=t)},drawChart(){if(this.shows.chart=!0,this.options=i["createOption"](this.model),this.options.series=[{name:"series1",data:[]},{name:"series2",data:[]}],this.options.chart.height=400,!0===this.model.is_monitoring){let t=[];["polarArea","radar","radialBar","donut"].includes(this.model.type)?(this.options={chart:{type:this.model.type},labels:["Team A","Team B","Team C","Team D"]},this.$refs["chart-"+this.structureType+this.modelId].updateOptions(this.options),t.push(Math.floor(7*Math.random()+30)),this.options.series=t,this.$refs["chart-"+this.structureType+this.modelId].updateSeries(t)):setInterval(async()=>{await Object.keys(this.options.series).map(t=>{this.options.series[t].data.push([Date.now(),Math.floor(7*Math.random()+30)])&&this.$refs["chart-"+this.structureType+this.modelId].updateSeries(this.options.series)})},1e3)}else["polarArea","radar","radialBar","donut"].includes(this.model.type)?(this.options={chart:{type:this.model.type},labels:["Team A","Team B","Team C","Team D"]},this.options.series=[Math.floor(7*Math.random()+30),Math.floor(7*Math.random()+30),Math.floor(7*Math.random()+30),Math.floor(7*Math.random()+30)]):Object.keys(this.options.series).map(t=>{for(let e=0;e<=4;e++)this.options.series[t].data.push([Date.now()-24*e*60*60*1e3,Math.floor(7*Math.random()+30)])});return!0}}},u=d,c=(s("145f"),s("2877")),h=Object(c["a"])(u,a,o,!1,null,"1a1b3cc4",null);e["default"]=h.exports},3578:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"normal-case tracking-normal"},[s("a",{staticClass:"btn btn-sm btn-outline-primary text-capitalize",on:{click:function(e){return e.preventDefault(),t.show.apply(null,arguments)}}},[s("font-awesome-icon",{attrs:{icon:["fas","fa-plus-square"]}}),t._v(" add "+t._s(t.structureType))],1),s("modal",{staticClass:"white-space-initial",attrs:{name:"view-add"+t.structureType,height:"auto",resizable:!0,width:"25%"}},[s("div",{staticClass:"modal-body"},[t._t("body",(function(){return[s("FormulateForm",{attrs:{name:"add-form"+t.structureType},on:{submit:function(e){return t.submitForm(t.structureType)}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[s("h3",[t._v(t._s("add "+t.structureType+" form"))]),t._l(t.schema,(function(e){return s(e.component,t._b({directives:[{name:"show",rawName:"v-show",value:t.showInput(e),expression:"showInput(input)"}],key:e.name,tag:"component"},"component",e,!1))})),s("FormulateInput",{attrs:{type:"submit",label:"Submit"}}),s("FormulateInput",{attrs:{type:"button",label:"Cancel","data-ghost":""},on:{click:t.cancel}})],2)]}))],2)])],1)},o=[],r=s("73b5"),i={name:"add",props:["structureType","refreshFunction","viewId"],data(){return{schema:[],model:{},controls:{}}},computed:{lookModel(){return this.model}},methods:{show(){this.getFormSchema(),this.$modal.show("view-add"+this.structureType)},cancel(){this.$formulate.reset("add-form"+this.structureType),this.$modal.hide("view-add"+this.structureType)},getFormSchema(){let t=r["getForm"](this.structureType);Object.keys(t).length>0&&(this.schema=t)},showInput(t){return r["showInputInModel"](t,this.model)},submitForm(t){"view"===t&&(this.model.path=this.model.name.replace(" ",""),this.model.requiresAuth=!0,this.model.displayInMenu=!0,this.model.structure={select:{models:[],styles:{}},card:{models:[],styles:{}},chart:{models:[],styles:{height:"500",font_size:"20px"}}}),!0===r["addModel"](t,this.model,this.viewId)&&(this.refreshFunction(),this.$formulate.reset("add-form"+this.structureType),"view"===t&&this.$router.go(this.$router.currentRoute))}},watch:{lookModel(){r["updateValidation"](this.schema,this.model)}}},n=i,l=(s("26b8"),s("2877")),d=Object(l["a"])(n,a,o,!1,null,"e75601d4",null);e["default"]=d.exports},"548d":function(t,e,s){},"5d83":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"session-action display-flex"},[t.data.isDisplayed?s("router-link",{attrs:{to:t.data.url+"/"+t.data.viewId,custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate;return[s("a",{staticClass:"btn btn-sm btn-outline-primary m-r-xs",attrs:{role:"link"},on:{click:a,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.apply(null,arguments)}}},[s("font-awesome-icon",{attrs:{icon:["fas","fa-eye"]}}),t._v(" Structure")],1)]}}],null,!1,3146440268)}):t._e(),t.data.isPreviewed?s("preview-form",{staticClass:"m-r-xs",attrs:{structureType:t.data.structureType,refreshFunction:t.data.refreshFunction,viewId:t.data.viewId,modelId:t.data.modelId}}):t._e(),t.data.isUpdated?s("edit-form",{staticClass:"m-r-xs",attrs:{structureType:t.data.structureType,refreshFunction:t.data.refreshFunction,viewId:t.data.viewId,modelId:t.data.modelId}}):t._e(),t.data.isDeleted?s("delete-form",{staticClass:"m-r-xs",attrs:{structureType:t.data.structureType,refreshFunction:t.data.refreshFunction,viewId:t.data.viewId,modelId:t.data.modelId}}):t._e()],1)},o=[],r=s("f7bb"),i=s("c1d5"),n=s("337e"),l={name:"session-action",components:{editForm:r["default"],deleteForm:i["default"],previewForm:n["default"]},props:["data","id"],data(){return{}},computed:{},mounted(){},beforeMount(){},methods:{}},d=l,u=(s("e692"),s("2877")),c=Object(u["a"])(d,a,o,!1,null,"32f2623c",null);e["default"]=c.exports},"68ff":function(t,e,s){},"69ae":function(t,e,s){"use strict";s("c588")},"6a4c":function(t,e,s){},"8a0a":function(t,e,s){},"91df":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0!==t.data.icon&&null!==t.data.icon&&""!==t.data.icon?s("div",{staticClass:"display-icon"},[s("font-awesome-icon",{class:t.data.color?"fs-5 text-"+t.data.color:"fs-5 text-primary",attrs:{icon:["fas",t.data.icon]}})],1):t._e()},o=[],r={name:"display-icon",components:{},props:["data"],data(){return{}},computed:{},mounted(){},methods:{}},i=r,n=(s("04bf"),s("2877")),l=Object(n["a"])(i,a,o,!1,null,"503f9f8c",null);e["default"]=l.exports},"9fbd":function(t,e,s){"use strict";s("6a4c")},c1d5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"normal-case tracking-normal"},[s("a",{staticClass:"btn btn-sm btn-outline-pinterest text-capitalize",on:{click:function(e){return e.preventDefault(),t.show.apply(null,arguments)}}},[s("font-awesome-icon",{staticClass:"me-1",attrs:{icon:["fas","fa-trash-can"]}}),t._v(" Delete")],1),s("modal",{staticClass:"white-space-initial",attrs:{height:"auto",width:"18%",name:"delete-view-"+t.structureType+t.modelId,resizable:!0,dialog:!0}},[s("div",{staticClass:"text-center p-3"},[s("h3",[t._v("Are you sure ?")]),s("p",{staticClass:"text-center"},[t._v("You can't revert your action")])]),s("div",{staticClass:"vue-dialog-buttons"},[s("button",{staticClass:"vue-dialog-button",staticStyle:{flex:"1 1 33.3333%"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.hide.apply(null,arguments)}}},[t._v("Cancel")]),s("button",{staticClass:"vue-dialog-button danger text-danger",staticStyle:{flex:"1 1 33.3333%"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.deleted.apply(null,arguments)}}},[t._v("Delete")])])])],1)},o=[],r=s("73b5"),i={name:"delete",props:["structureType","refreshFunction","viewId","modelId"],data(){return{schema:[],model:{},controls:{}}},computed:{},methods:{show(){this.$modal.show("delete-view-"+this.structureType+this.modelId)},hide(){this.$modal.hide("delete-view-"+this.structureType+this.modelId)},deleted(){!0===r["deleteModel"](this.structureType,this.modelId,this.viewId)&&(this.refreshFunction(),this.hide(),"view"===this.structureType&&this.$router.go(this.$router.currentRoute))}},beforeMount(){}},n=i,l=(s("9fbd"),s("2877")),d=Object(l["a"])(n,a,o,!1,null,"f4bd9518",null);e["default"]=d.exports},c588:function(t,e,s){},ca5a:function(t,e,s){},e692:function(t,e,s){"use strict";s("ca5a")},f7bb:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"normal-case tracking-normal"},[s("a",{staticClass:"btn btn-sm btn-outline-purple text-capitalize",on:{click:function(e){return e.preventDefault(),t.show.apply(null,arguments)}}},[s("font-awesome-icon",{staticClass:"me-1",attrs:{icon:["fas","fa-pen-to-square"]}}),t._v(" edit")],1),s("modal",{staticClass:"white-space-initial",attrs:{name:"edit-modal-"+t.structureType+t.modelId,height:"auto",resizable:!0,width:"25%"}},[s("div",{staticClass:"modal-body"},[t._t("body",(function(){return[s("FormulateForm",{attrs:{name:"edit-form-"+t.structureType+t.modelId},on:{submit:function(e){return t.submitForm(t.structureType)}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[s("h3",[t._v(t._s("Edit "+t.structureType+" form"))]),t._l(t.schema,(function(e){return s(e.component,t._b({directives:[{name:"show",rawName:"v-show",value:t.showInput(e),expression:"showInput(input)"}],key:e.name,tag:"component"},"component",e,!1))})),s("FormulateInput",{staticClass:"f-right",attrs:{type:"submit",label:"Edit"}}),s("FormulateInput",{attrs:{type:"button",label:"Cancel","data-ghost":""},on:{click:t.cancel}})],2)]}))],2)])],1)},o=[],r=s("73b5"),i={name:"edit",props:["modelId","structureType","refreshFunction","viewId"],data(){return{schema:[],model:{},controls:{}}},computed:{lookModel(){return this.model}},methods:{show(){this.getModel(),this.$modal.show("edit-modal-"+this.structureType+this.modelId)},cancel(){this.getModel(),this.$modal.hide("edit-modal-"+this.structureType+this.modelId)},getModel(){let t=r["getModel"](this.structureType,this.viewId,this.modelId);Object.keys(t).length>0&&(this.model=t)},showInput(t){return r["showInputInModel"](t,this.model)},submitForm(t){"view"===t&&(this.model.path="/"+this.model.name.replace(" ","")),!0===r["editModel"](t,this.viewId,this.model,this.modelId)&&(this.refreshFunction(),this.$modal.hide("edit-modal-"+this.structureType+this.modelId),"view"===t&&this.$router.go(this.$router.currentRoute))},getFormSchema(t){let e=r["getForm"](t);Object.keys(e).length>0&&(this.schema=e)}},watch:{lookModel(){r["updateValidation"](this.schema,this.model)}},beforeMount(){this.getFormSchema(this.structureType)}},n=i,l=(s("69ae"),s("2877")),d=Object(l["a"])(n,a,o,!1,null,"67abc916",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-05b14913.19021025.js.map