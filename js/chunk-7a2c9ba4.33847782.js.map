{"version":3,"sources":["webpack:///./src/components/forms/session/preview/preview.html","webpack:///./src/components/forms/session/preview/preview.js","webpack:///./src/components/forms/session/preview/preview.js?03c0","webpack:///./src/components/forms/session/preview/index.vue","webpack:///./src/components/forms/session/preview/preview.scss"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","preventDefault","show","apply","arguments","attrs","_v","structureType","modelId","_t","directives","name","rawName","value","shows","card","expression","model","_e","chart","ref","options","series","height","staticRenderFns","components","apexcharts","VueApexCharts","props","data","computed","beforeMount","methods","getModel","$modal","drawChart","hide","configurationsController","viewId","Object","keys","length","chartController","is_monitoring","includes","type","labels","$refs","updateOptions","push","Math","floor","random","updateSeries","setInterval","async","map","item","Date","now","step","component"],"mappings":"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","file":"js/chunk-7a2c9ba4.33847782.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"normal-case tracking-normal\"},[_c('a',{staticClass:\"btn btn-sm btn-outline-behance text-capitalize\",on:{\"click\":function($event){$event.preventDefault();return _vm.show.apply(null, arguments)}}},[_c('font-awesome-icon',{staticClass:\"me-1\",attrs:{\"icon\":['fas','fa-eye']}}),_vm._v(\" preview\")],1),_c('modal',{staticClass:\"white-space-initial\",attrs:{\"name\":'preview-modal-'+_vm.structureType+_vm.modelId,\"height\":\"auto\",\"resizable\":true,\"width\":\"25%\"}},[_c('div',{staticClass:\"modal-body\"},[_vm._t(\"body\",function(){return [(_vm.structureType==='card')?_c('Card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shows.card),expression:\"shows.card\"}],attrs:{\"configuration\":_vm.model,\"queryBegin\":'queryBegin',\"from\":'from',\"to\":'to',\"styles\":'structure.card.styles'}}):_vm._e(),(_vm.shows.chart===true)?_c('apexcharts',{ref:'chart-'+_vm.structureType+_vm.modelId,attrs:{\"options\":_vm.options,\"series\":_vm.options.series,\"height\":_vm.options.chart.height}}):_vm._e()]})],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as configurationsController from \"../../../../controller/configurationsController\";\nimport * as chartController from \"../../../../controller/chartController\";\n\nimport VueApexCharts from 'vue-apexcharts'\n\nexport default {\n    name: 'preview',\n    components: {apexcharts: VueApexCharts,},\n    props: ['modelId', 'structureType', 'refreshFunction', 'viewId'],\n    data() {\n        return {\n            model: {},\n            options: {},\n            shows: {\n                chart: false,\n                card: false,\n            }\n        }\n    },\n    computed: {},\n    beforeMount() {\n\n    },\n    methods: {\n        async show() {\n            await this.getModel();\n            await this.$modal.show('preview-modal-' + this.structureType + this.modelId);\n            if (this.structureType === 'chart') {\n                this.drawChart();\n            } else {\n                this.shows.card = true;\n            }\n        },\n        hide() {\n            this.$modal.hide('preview-modal-' + this.structureType + this.modelId);\n        },\n\n        getModel() {\n            let data = configurationsController.getModel(this.structureType, this.viewId, this.modelId);\n            if (Object.keys(data).length > 0) {\n                this.model = data;\n            }\n        },\n        drawChart() {\n            this.shows.chart = true;\n            this.options = chartController.createOption(this.model)\n            this.options.series = [\n                {\n                    name: 'series1',\n                    data: []\n                },\n                {\n                    name: 'series2',\n                    data: []\n                }\n            ]\n            this.options.chart.height = 400\n            if (this.model.is_monitoring === true) {\n                let series = []\n                if ([\"polarArea\", \"radar\", \"radialBar\", \"donut\"].includes(this.model.type)) {\n                    this.options = {\n                        chart: {\n                            type: this.model.type\n                        },\n                        labels: [\"Team A\", \"Team B\", \"Team C\", \"Team D\"],\n                    }\n                    this.$refs['chart-' + this.structureType + this.modelId].updateOptions(this.options)\n                    series.push(Math.floor(Math.random() * (37 - 30) + 30));\n                    this.options.series = series;\n                    this.$refs['chart-' + this.structureType + this.modelId].updateSeries(series)\n                } else {\n                    setInterval(async () => {\n                        await Object.keys(this.options.series).map((item) => {\n                            if (this.options.series[item].data.push([Date.now(), Math.floor(Math.random() * (37 - 30) + 30)])) {\n                                this.$refs['chart-' + this.structureType + this.modelId].updateSeries(this.options.series)\n                            }\n                        });\n                    }, 1000);\n\n                }\n            } else {\n                if ([\"polarArea\", \"radar\", \"radialBar\", \"donut\"].includes(this.model.type)) {\n                    this.options = {\n                        chart: {\n                            type: this.model.type\n                        },\n                        labels: [\"Team A\", \"Team B\", \"Team C\", \"Team D\"],\n                    }\n                    this.options.series = [Math.floor(Math.random() * (37 - 30) + 30), Math.floor(Math.random() * (37 - 30) + 30), Math.floor(Math.random() * (37 - 30) + 30), Math.floor(Math.random() * (37 - 30) + 30)]\n                } else {\n                    Object.keys(this.options.series).map((item) => {\n                        for (let step = 0; step <= 4; step++) {\n                            this.options.series[item].data.push([Date.now() - (step * 24 * 60 * 60 * 1000), Math.floor(Math.random() * (37 - 30) + 30)])\n                        }\n                    });\n                }\n            }\n            return true\n        }\n    }\n}\n\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/eslint-loader/index.js??ref--14-0!./preview.js?vue&type=script&lang=js&external\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/eslint-loader/index.js??ref--14-0!./preview.js?vue&type=script&lang=js&external\"","import { render, staticRenderFns } from \"./preview.html?vue&type=template&id=1a1b3cc4&scoped=true&external\"\nimport script from \"./preview.js?vue&type=script&lang=js&external\"\nexport * from \"./preview.js?vue&type=script&lang=js&external\"\nimport style0 from \"./preview.scss?vue&type=style&index=0&id=1a1b3cc4&prod&scoped=true&lang=scss&external\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a1b3cc4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./preview.scss?vue&type=style&index=0&id=1a1b3cc4&prod&scoped=true&lang=scss&external\""],"sourceRoot":""}