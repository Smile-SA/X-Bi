{"version":3,"sources":["webpack:///./src/views/dynamic/dynamic.html","webpack:///./src/views/dynamic/dynamic.js","webpack:///./src/views/dynamic/dynamic.js?b69a","webpack:///./src/views/dynamic/index.vue","webpack:///./src/views/dynamic/dynamic.scss"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","meta","icon","description","undefined","select","models","Object","keys","length","class","hover","_l","item","type","showDatePicker","showGroup","title","id","query_key","date","default_data","placeholder","setDate","setGroup","setDynamicDataSelect","groupOptions","dynamicData","_e","structure","card","space","queryData","additionalUrl","styles","group","chart","staticRenderFns","data","dynamicDataSelectId","queryLink","to","from","active","apiInfo","methods","input","target","value","mode","dataType","setModelsData","configurationsController","event","getStructureModelsData","r","name","errors","total","results","todayFunction","n","Date","startToday","getFullYear","getMonth","getDate","endToday","start","end","setDefaultDate","jour","month","year","e","a","UTC","hasDynamicSelect","map","key","query","generalController","then","beforeMount","getDynamicSelectData","general","watch","component"],"mappings":"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","file":"js/chunk-902f86a4.cc15fdd6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('title-box',{attrs:{\"that\":this,\"icon\":_vm.$route.meta.icon,\"description\":_vm.$route.meta.description}}),(_vm.select.models!=undefined && Object.keys(_vm.select.models).length>0)?_c('div',{class:_vm.hover ? 'col-sm-9' : 'col-sm-11-5',attrs:{\"id\":\"input-box\"}},[_c('div',{staticClass:\"row\"},_vm._l((_vm.select.models),function(item,keys){return ((item.type === 'dynamic' ? true : item.type === 'date' ? _vm.showDatePicker() : item.type === 'group' ? _vm.showGroup() : false )===true )?_c('select-option',{staticClass:\"col-sm-4 m-b\",attrs:{\"type\":item.type,\"label\":item.title,\"replace\":undefined,\"by\":undefined,\"id\":item.id,\"selectId\":item.query_key,\"defaultData\":item.type === 'dynamic' ? '' : item.type === 'date' ? _vm.date : item.default_data,\"placeholder\":item.placeholder,\"selectFunction\":item.type === 'date' ?  _vm.setDate : item.type === 'group' ?  _vm.setGroup : item.type === 'dynamic' ? _vm.setDynamicDataSelect : '',\"selectData\":item.type === 'date' ?  _vm.date : item.type === 'group' ? _vm.groupOptions : item.type === 'dynamic' ?  _vm.dynamicData : ''}}):_vm._e()}),1)]):_vm._e(),(_vm.structure.card.models!=undefined && Object.keys(_vm.structure.card.models).length>0)?_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.structure.card.models),function(item){return _c('div',{class:item.space === '1/4' ? 'col-sm-3 m-b' : item.space === '2/4' ? 'col-sm-6 m-b' : item.space === '3/4' ? 'col-sm-9 m-b' : item.space === '4/4' ? 'col-sm-12 m-b' : 'col-sm-4 m-b'},[_c('Card',{attrs:{\"configuration\":item,\"queryData\":_vm.queryData,\"additionalUrl\":_vm.additionalUrl,\"styles\":_vm.structure.card.styles,\"group\":_vm.group}})],1)}),0)]):_vm._e(),(_vm.structure.chart.models!=undefined &&  Object.keys(_vm.structure.chart.models).length>0)?_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.structure.chart.models),function(item){return _c('div',{class:item.space === '1/2' ? 'col-md-6 col-sm-12 m-b' : 'col-sm-12 m-b'},[_c('apex-charts',{attrs:{\"configuration\":item,\"queryData\":_vm.queryData,\"additionalUrl\":_vm.additionalUrl,\"styles\":_vm.structure.chart.styles,\"group\":_vm.group}})],1)}),0)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as configurationsController from \"../../controller/configurationsController\";\nimport * as generalController from \"../../controller/generalController\";\nimport * as general from \"../../controller/generalController\";\n\n\nexport default {\n    data() {\n        return {\n            group: 'hour',\n            groupOptions: ['hour', 'day', 'month', 'year'],\n            queryData: {},\n            dynamicDataSelectId: '',\n            queryLink: '',\n            additionalUrl: '',\n            to: null,\n            from: null,\n            date: null,\n            active: null,\n            hover: true,\n            apiInfo: undefined,\n            dynamicData: [],\n            select: {\n                models: {},\n                styles: {}\n            },\n            structure: {\n                card: {\n                    models: {},\n                    styles: {}\n                },\n                chart: {\n                    models: {},\n                    styles: {}\n                }\n            }\n        }\n    },\n    methods: {\n        showDatePicker() {\n            return this.active !== null\n        },\n        showGroup() {\n            return this.date !== null && this.active !== null\n        },\n        // eslint-disable-next-line no-unused-vars\n        async setDynamicDataSelect(input, id) {\n            this.active = input.target.value;\n            if (this.apiInfo.mode === \"ro\") {\n                this.additionalUrl = id + '/' + this.active;\n            } else {\n                this.additionalUrl = \"\"\n                this.queryData[id] = this.active;\n            }\n            if (this.apiInfo.dataType === 'static') {\n                this.additionalUrl = \"/X-Bi/mockData/\" + this.additionalUrl;\n            }\n            this.setDate(this.date);\n        },\n        async setDate(date) {\n            if (date) {\n                this.date = date;\n                await this.setModelsData();\n                await configurationsController.refreshDate(this.date, this);\n            }\n        },\n        async setGroup(event) {\n            this.group = event.target.value;\n            this.setDate(this.date)\n        },\n        setModelsData() {\n            this.structure.card = {\n                models: {},\n                styles: {}\n            }\n            this.structure.chart = {\n                models: {},\n                styles: {}\n            }\n        },\n        getStructureModelsData() {\n            let r = configurationsController.getSelectModels(this.$route.name)\n            if (r.data != null && r.data.errors !== true) {\n                if (r.data.total > 0) {\n                    this.select.models = r.data.results;\n                }\n            } else {\n                this.select.models = {};\n                this.select.styles = {};\n            }\n        },\n        todayFunction() {\n            const n = new Date()\n            const startToday = new Date(n.getFullYear(), n.getMonth(), n.getDate() - 1, 0, 0)\n            const endToday = new Date(n.getFullYear(), n.getMonth(), n.getDate() + 0, 23, 59)\n            return {\n                start: startToday,\n                end: endToday\n            }\n        },\n        setDefaultDate(jour, month, year) {\n            var e = new Date, n, a = new Date(Date.UTC(e.getFullYear(), e.getMonth(), e.getDate()));\n            if (jour > 0) {\n                n = new Date(Date.UTC(e.getFullYear(), e.getMonth(), e.getDate() - jour))\n            }\n            if (month > 0) {\n                n = new Date(Date.UTC(e.getFullYear(), e.getMonth() - month, e.getDate()))\n            }\n            if (year > 0) {\n                n = new Date(Date.UTC(e.getFullYear() - year, e.getMonth(), e.getDate()))\n            }\n            return {start: n, end: a}\n        },\n        async getDynamicSelectData() {\n            this.active = null;\n            let hasDynamicSelect = false\n            this.select = {}\n            await this.getStructureModelsData();\n            if (this.select.models != undefined && Object.keys(this.select.models).length > 0) {\n                await Object.keys(this.select.models).map((key) => {\n                    if (this.select.models[key].type === 'dynamic') {\n                        hasDynamicSelect = true;\n                        this.queryLink = this.select.models[key].query;\n                        generalController.getJsonData(this.select.models[key]).then((r) => {\n                            if (r.total > 0) {\n                                this.dynamicData = r.results\n                            } else {\n                                this.dynamicData = []\n                            }\n                        })\n                    }\n                })\n            }\n            if (!hasDynamicSelect) {\n                this.active = true;\n            }\n        },\n    },\n    beforeMount() {\n        this.date = this.to = this.from = this.active = null\n        this.queryData = {}\n        this.dynamicData = []\n        this.hover = true, this.dynamicDataSelectId = this.queryLink = this.additionalUrl = ''\n        this.select = {\n            models: {},\n            styles: {}\n        }\n        this.structure = {\n            card: {\n                models: {},\n                styles: {}\n            },\n            chart: {\n                models: {},\n                styles: {}\n            }\n        }\n        this.apiInfo = configurationsController.getApiInfo()\n        this.setModelsData()\n        this.getDynamicSelectData()\n        general.titleBoxRender(this)\n        if (this.$route.name === 'Overall') {\n            this.active = '';\n            this.date = this.todayFunction()\n            this.setDate(this.date);\n        }\n    },\n    watch: {\n        $route() {\n            this.date = this.to = this.from = this.active = null\n            this.queryData = {}\n            this.dynamicData = []\n            this.hover = true, this.dynamicDataSelectId = this.queryLink = this.additionalUrl = ''\n            this.select = {\n                models: {},\n                styles: {}\n            }\n            this.structure = {\n                card: {\n                    models: {},\n                    styles: {}\n                },\n                chart: {\n                    models: {},\n                    styles: {}\n                }\n            }\n            this.apiInfo = configurationsController.getApiInfo()\n            general.titleBoxRender(this)\n            this.getDynamicSelectData();\n            this.setModelsData();\n            if (this.$route.name === 'Overall') {\n                this.active = '';\n                this.date = this.todayFunction()\n                this.setDate(this.date);\n            }\n        }\n    },\n}\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./dynamic.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--14-0!./dynamic.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dynamic.html?vue&type=template&id=483ce321&scoped=true&\"\nimport script from \"./dynamic.js?vue&type=script&lang=js&\"\nexport * from \"./dynamic.js?vue&type=script&lang=js&\"\nimport style0 from \"./dynamic.scss?vue&type=style&index=0&id=483ce321&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"483ce321\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./dynamic.scss?vue&type=style&index=0&id=483ce321&scoped=true&lang=scss&\""],"sourceRoot":""}